<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›½æ——çŒœè°œæ¸¸æˆ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
            background-color: #f0f8ff;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
        }

        .game-container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .flag {
            font-size: 100px;
            margin: 20px 0;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }

        button {
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            background-color: #3498db;
            color: white;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #2980b9;
        }

        .score {
            font-size: 18px;
            margin-top: 20px;
        }

        .feedback {
            margin-top: 15px;
            font-weight: bold;
            min-height: 20px;
        }

        .correct {
            color: green;
        }

        .incorrect {
            color: red;
        }

        .next-btn {
            margin-top: 20px;
            background-color: #2ecc71;
        }

        .next-btn:hover {
            background-color: #27ae60;
        }
    </style>
</head>

<body>
    <div class="game-container">
        <h1>å›½æ——çŒœè°œæ¸¸æˆ</h1>
        <div class="score">å¾—åˆ†: <span id="score">0</span></div>
        <div class="flag" id="flag"></div>
        <div class="feedback" id="feedback"></div>
        <div class="options" id="options"></div>
        <button class="next-btn" id="next-btn" style="display: none;">ä¸‹ä¸€é¢˜</button>
    </div>

    <script>
        // å›½å®¶å’Œå¯¹åº”çš„å›½æ——æ•°æ®
        const countries = [
            { name: "ä¸­åœ‹", flag: "ğŸ‡¨ğŸ‡³" },
            { name: "ç¾åœ‹", flag: "ğŸ‡ºğŸ‡¸" },
            { name: "æ—¥æœ¬", flag: "ğŸ‡¯ğŸ‡µ" },
            { name: "è‹±åœ‹", flag: "ğŸ‡¬ğŸ‡§" },
            { name: "æ³•åœ‹", flag: "ğŸ‡«ğŸ‡·" },
            { name: "å¾·åœ‹", flag: "ğŸ‡©ğŸ‡ª" },
            { name: "æ„å¤§åˆ©", flag: "ğŸ‡®ğŸ‡¹" },
            { name: "åŠ æ‹¿å¤§", flag: "ğŸ‡¨ğŸ‡¦" },
            { name: "æ¾³å¤§åˆ©äº", flag: "ğŸ‡¦ğŸ‡º" },
            { name: "ä¿„ç¾…æ–¯", flag: "ğŸ‡·ğŸ‡º" },
            { name: "å·´è¥¿", flag: "ğŸ‡§ğŸ‡·" },
            { name: "å°åº¦", flag: "ğŸ‡®ğŸ‡³" },
            { name: "å—é", flag: "ğŸ‡¿ğŸ‡¦" },
            { name: "å¢¨è¥¿å“¥", flag: "ğŸ‡²ğŸ‡½" },
            { name: "éŸ“åœ‹", flag: "ğŸ‡°ğŸ‡·" },
            { name: "è¥¿ç­ç‰™", flag: "ğŸ‡ªğŸ‡¸" },
            { name: "æ–°åŠ å¡", flag: "ğŸ‡¸ğŸ‡¬" },
            { name: "åŸƒåŠ", flag: "ğŸ‡ªğŸ‡¬" },
            { name: "ç‘å…¸", flag: "ğŸ‡¸ğŸ‡ª" },
            { name: "ç‘å£«", flag: "ğŸ‡¨ğŸ‡­" }
        ];

        // æ¸¸æˆçŠ¶æ€å˜é‡
        let currentFlag;
        let score = 0;
        let optionsDisabled = false;

        // è·å–DOMå…ƒç´ 
        const flagElement = document.getElementById('flag');
        const optionsElement = document.getElementById('options');
        const scoreElement = document.getElementById('score');
        const feedbackElement = document.getElementById('feedback');
        const nextButton = document.getElementById('next-btn');

        // éšæœºé€‰æ‹©æ•°ç»„ä¸­çš„å…ƒç´ 
        function getRandomItem(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        // è·å–éšæœºçš„ä¸é‡å¤é€‰é¡¹
        function getRandomOptions(correctAnswer, count) {
            const options = [correctAnswer];
            const availableCountries = countries.filter(country => country.name !== correctAnswer.name);

            while (options.length < count && availableCountries.length > 0) {
                const randomCountry = getRandomItem(availableCountries);
                if (!options.find(option => option.name === randomCountry.name)) {
                    options.push(randomCountry);
                    // ä»å¯ç”¨å›½å®¶ä¸­ç§»é™¤å·²é€‰æ‹©çš„å›½å®¶
                    const index = availableCountries.findIndex(c => c.name === randomCountry.name);
                    if (index !== -1) {
                        availableCountries.splice(index, 1);
                    }
                }
            }

            // æ‰“ä¹±é€‰é¡¹é¡ºåº
            return options.sort(() => Math.random() - 0.5);
        }

        // å¼€å§‹æ–°ä¸€è½®æ¸¸æˆ
        function startNewRound() {
            // æ¸…é™¤åé¦ˆå’Œå¯ç”¨é€‰é¡¹
            feedbackElement.textContent = '';
            feedbackElement.className = 'feedback';
            optionsDisabled = false;
            nextButton.style.display = 'none';

            // éšæœºé€‰æ‹©ä¸€ä¸ªå›½å®¶
            currentFlag = getRandomItem(countries);
            flagElement.textContent = currentFlag.flag;

            // ç”Ÿæˆé€‰é¡¹
            const options = getRandomOptions(currentFlag, 4);

            // æ¸…é™¤æ—§é€‰é¡¹å¹¶æ·»åŠ æ–°é€‰é¡¹
            optionsElement.innerHTML = '';
            options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option.name;
                button.addEventListener('click', () => checkAnswer(option));
                optionsElement.appendChild(button);
            });
        }

        // æ£€æŸ¥ç­”æ¡ˆ
        function checkAnswer(selectedOption) {
            if (optionsDisabled) return;

            optionsDisabled = true;

            if (selectedOption.name === currentFlag.name) {
                // ç­”æ¡ˆæ­£ç¡®
                score++;
                scoreElement.textContent = score;
                feedbackElement.textContent = 'å›ç­”æ­£ç¡®ï¼';
                feedbackElement.className = 'feedback correct';
            } else {
                // ç­”æ¡ˆé”™è¯¯
                feedbackElement.textContent = `å›ç­”é”™è¯¯ï¼æ­£ç¡®ç­”æ¡ˆæ˜¯ ${currentFlag.name}`;
                feedbackElement.className = 'feedback incorrect';
            }

            // æ˜¾ç¤ºä¸‹ä¸€é¢˜æŒ‰é’®
            nextButton.style.display = 'inline-block';
        }

        // æ·»åŠ ä¸‹ä¸€é¢˜æŒ‰é’®äº‹ä»¶ç›‘å¬å™¨
        nextButton.addEventListener('click', startNewRound);

        // åˆå§‹åŒ–æ¸¸æˆ
        startNewRound();
    </script>
</body>

</html>