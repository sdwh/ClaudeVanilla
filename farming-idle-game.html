<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üå± Farm Clicker Paradise üå±</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #87CEEB 0%, #98FB98 50%, #F0E68C 100%);
            min-height: 100vh;
            padding: 20px;
            overflow-x: auto;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            border: 3px solid #8B4513;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(45deg, #90EE90, #FFE4B5);
            border-radius: 15px;
            border: 2px solid #8B4513;
        }

        .title {
            font-size: 2.5em;
            color: #2E8B57;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            margin-bottom: 10px;
        }

        .currency {
            font-size: 1.8em;
            color: #FF6347;
            background: #FFFACD;
            padding: 10px 20px;
            border-radius: 25px;
            border: 2px solid #DAA520;
            display: inline-block;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        }

        .status-bar {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            gap: 15px;
        }

        .status-item {
            background: rgba(255, 255, 255, 0.8);
            padding: 10px 15px;
            border-radius: 15px;
            border: 2px solid #8B4513;
            flex: 1;
            text-align: center;
            font-size: 0.9em;
        }

        .auto-harvest-timer {
            background: #90EE90;
            color: #2E8B57;
            font-weight: bold;
        }

        .game-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        .farm-section {
            background: linear-gradient(135deg, #F5DEB3, #DEB887);
            padding: 25px;
            border-radius: 15px;
            border: 3px solid #8B4513;
            box-shadow: inset 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            font-size: 1.5em;
            color: #8B4513;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);
        }

        .plant-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .plant {
            background: #90EE90;
            border: 3px solid #228B22;
            border-radius: 15px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
            min-height: 120px;
        }

        .plant:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }

        .plant-emoji {
            font-size: 1.2em;
            margin-bottom: 5px;
        }

        .plant-info {
            font-size: 0.4em;
            color: #2E8B57;
            text-align: center;
            font-weight: bold;
        }

        .plant-level {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #FFD700;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.4em;
            border: 2px solid #DAA520;
            color: #8B4513;
            font-weight: bold;
        }

        .plant-damaged {
            background: #FFB6C1 !important;
            border-color: #DC143C !important;
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .shop-section {
            background: linear-gradient(135deg, #FFEFD5, #F0E68C);
            padding: 25px;
            border-radius: 15px;
            border: 3px solid #DAA520;
            box-shadow: inset 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .shop-item {
            background: #FFFACD;
            border: 2px solid #DAA520;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.2s ease;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
        }

        .shop-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .shop-info {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .shop-icon {
            font-size: 2em;
            padding: 10px;
            background: #90EE90;
            border-radius: 50%;
            border: 2px solid #228B22;
        }

        .shop-details {
            flex-grow: 1;
        }

        .shop-name {
            font-size: 1.2em;
            color: #8B4513;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .shop-description {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }

        .shop-stats {
            font-size: 0.8em;
            color: #228B22;
            font-weight: bold;
        }

        .shop-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .buy-button, .upgrade-button {
            background: linear-gradient(45deg, #32CD32, #228B22);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: bold;
            transition: all 0.2s ease;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        .upgrade-button {
            background: linear-gradient(45deg, #FFD700, #DAA520);
            color: #8B4513;
        }

        .buy-button:hover, .upgrade-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 12px rgba(0, 0, 0, 0.3);
        }

        .buy-button:disabled, .upgrade-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .production-info {
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            border: 2px solid #DAA520;
        }

        .disaster-alert {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(45deg, #FF4500, #DC143C);
            color: white;
            padding: 30px;
            border-radius: 20px;
            border: 3px solid #8B0000;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            z-index: 1000;
            text-align: center;
            font-size: 1.2em;
            animation: alertPulse 0.5s ease-in-out;
        }

        @keyframes alertPulse {
            0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }

        .floating-fruit {
            position: absolute;
            font-size: 1.5em;
            pointer-events: none;
            animation: floatUp 1s ease-out forwards;
            z-index: 1000;
        }

        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0);
            }
            100% {
                opacity: 0;
                transform: translateY(-50px);
            }
        }

        .pulse {
            animation: pulse 0.3s ease;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        @media (max-width: 768px) {
            .game-area {
                grid-template-columns: 1fr;
            }
            
            .title {
                font-size: 2em;
            }
            
            .currency {
                font-size: 1.4em;
            }

            .status-bar {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">üå± Farm Clicker Paradise üå±</h1>
            <div class="currency">üçé Fruits: <span id="currency">0</span></div>
            <div class="status-bar">
                <div class="status-item auto-harvest-timer">
                    ‚è∞ Next Auto-Harvest: <span id="autoTimer">10</span>s
                </div>
                <div class="status-item">
                    üåü Production/sec: <span id="autoProduction">0</span>
                </div>
                <div class="status-item">
                    üè™ Total Plants: <span id="totalPlants">1</span>
                </div>
            </div>
        </div>

        <div class="game-area">
            <div class="farm-section">
                <h2 class="section-title">üöú Your Farm üöú</h2>
                <div class="plant-grid" id="plantGrid">
                    <div class="plant" data-type="tomato" data-level="1" data-id="0">
                        <div class="plant-emoji">üçÖ</div>
                        <div class="plant-info">Lvl 1<br>+1/harvest</div>
                        <div class="plant-level">1</div>
                    </div>
                </div>
                <div class="production-info">
                    <div><strong>üí° Tip:</strong> Plants auto-harvest every <span style="color:#FF6347;font-weight:bold;">1</span> second!</div>
                    <div><strong>‚ö†Ô∏è Warning:</strong> Natural disasters may destroy plants!</div>
                </div>
            </div>

            <div class="shop-section">
                <h2 class="section-title">üè™ Plant Shop & Upgrades üè™</h2>
                
                <div class="shop-item">
                    <div class="shop-info">
                        <div class="shop-icon">üçÖ</div>
                        <div class="shop-details">
                            <div class="shop-name">Tomato Plant</div>
                            <div class="shop-description">Reliable starter crop</div>
                            <div class="shop-stats">Base: 1 fruit/harvest | Count: <span id="tomatoCount">1</span></div>
                        </div>
                    </div>
                    <div class="shop-buttons">
                        <button class="buy-button" onclick="buyPlant('tomato')" id="buyTomato">
                            Buy üçé<span id="tomatoCost">15</span>
                        </button>
                        <button class="upgrade-button" onclick="upgradePlantType('tomato')" id="upgradeTomato">
                            Upgrade All üçé<span id="tomatoUpgradeCost">50</span>
                        </button>
                    </div>
                </div>

                <div class="shop-item">
                    <div class="shop-info">
                        <div class="shop-icon">ü•ï</div>
                        <div class="shop-details">
                            <div class="shop-name">Carrot Plant</div>
                            <div class="shop-description">Hardy and productive</div>
                            <div class="shop-stats">Base: 12 fruits/harvest | Count: <span id="carrotCount">0</span></div>
                        </div>
                    </div>
                    <div class="shop-buttons">
                        <button class="buy-button" onclick="buyPlant('carrot')" id="buyCarrot">
                            Buy üçé<span id="carrotCost">40</span>
                        </button>
                        <button class="upgrade-button" onclick="upgradePlantType('carrot')" id="upgradeCarrot">
                            Upgrade All üçé<span id="carrotUpgradeCost">100</span>
                        </button>
                    </div>
                </div>

                <div class="shop-item">
                    <div class="shop-info">
                        <div class="shop-icon">üåΩ</div>
                        <div class="shop-details">
                            <div class="shop-name">Corn Plant</div>
                            <div class="shop-description">Premium high-yield crop</div>
                            <div class="shop-stats">Base: 25 fruits/harvest | Count: <span id="cornCount">0</span></div>
                        </div>
                    </div>
                    <div class="shop-buttons">
                        <button class="buy-button" onclick="buyPlant('corn')" id="buyCorn">
                            Buy üçé<span id="cornCost">100</span>
                        </button>
                        <button class="upgrade-button" onclick="upgradePlantType('corn')" id="upgradeCorn">
                            Upgrade All üçé<span id="cornUpgradeCost">350</span>
                        </button>
                    </div>
                </div>

                <div class="shop-item">
                    <div class="shop-info">
                        <div class="shop-icon">üõ°Ô∏è</div>
                        <div class="shop-details">
                            <div class="shop-name">Farm Insurance</div>
                            <div class="shop-description">Reduces disaster damage</div>
                            <div class="shop-stats">Protection Level: <span id="insuranceLevel">0</span></div>
                        </div>
                    </div>
                    <div class="shop-buttons">
                        <button class="upgrade-button" onclick="buyInsurance()" id="buyInsurance">
                            Buy üçé<span id="insuranceCost">100</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let gameState = {
            currency: 0,
            nextPlantId: 1,
            plants: [],
            plantTypes: {
                tomato: { 
                    count: 1, 
                    cost: 15, 
                    costMultiplier: 1.15, 
                    baseReward: 1, 
                    upgradeLevel: 1, 
                    upgradeCost: 50,
                    emoji: 'üçÖ'
                },
                carrot: { 
                    count: 0, 
                    cost: 40, 
                    costMultiplier: 1.15, 
                    baseReward: 5, 
                    upgradeLevel: 1, 
                    upgradeCost: 100,
                    emoji: 'ü•ï'
                },
                corn: { 
                    count: 0, 
                    cost: 100, 
                    costMultiplier: 1.15, 
                    baseReward: 10, 
                    upgradeLevel: 1, 
                    upgradeCost: 350,
                    emoji: 'üåΩ'
                }
            },
            insurance: {
                level: 0,
                cost: 100,
                costMultiplier: 1.25
            },
            autoHarvestTimer: 3,
            gameStartTime: Date.now()
        };

        // Initialize with starting plant
        gameState.plants.push({
            id: 0,
            type: 'tomato',
            level: 1,
            damaged: false
        });

        const disasters = [
            { name: 'Storm', emoji: '‚õàÔ∏è', message: 'A fierce storm damaged some plants!' },
            { name: 'Drought', emoji: '‚òÄÔ∏è', message: 'A drought withered some crops!' },
            { name: 'Pest Invasion', emoji: 'üêõ', message: 'Pests attacked your farm!' },
            { name: 'Frost', emoji: '‚ùÑÔ∏è', message: 'An unexpected frost hit your plants!' }
        ];

        function updateDisplay() {
            document.getElementById('currency').textContent = Math.floor(gameState.currency);
            document.getElementById('totalPlants').textContent = gameState.plants.length;
            
            // Update plant counts
            document.getElementById('tomatoCount').textContent = gameState.plantTypes.tomato.count;
            document.getElementById('carrotCount').textContent = gameState.plantTypes.carrot.count;
            document.getElementById('cornCount').textContent = gameState.plantTypes.corn.count;
            
            // Update costs
            document.getElementById('tomatoCost').textContent = Math.floor(gameState.plantTypes.tomato.cost);
            document.getElementById('carrotCost').textContent = Math.floor(gameState.plantTypes.carrot.cost);
            document.getElementById('cornCost').textContent = Math.floor(gameState.plantTypes.corn.cost);
            
            // Update upgrade costs
            document.getElementById('tomatoUpgradeCost').textContent = Math.floor(gameState.plantTypes.tomato.upgradeCost);
            document.getElementById('carrotUpgradeCost').textContent = Math.floor(gameState.plantTypes.carrot.upgradeCost);
            document.getElementById('cornUpgradeCost').textContent = Math.floor(gameState.plantTypes.corn.upgradeCost);
            
            // Update insurance
            document.getElementById('insuranceLevel').textContent = gameState.insurance.level;
            document.getElementById('insuranceCost').textContent = Math.floor(gameState.insurance.cost);

            // Update button states
            document.getElementById('buyTomato').disabled = gameState.currency < gameState.plantTypes.tomato.cost;
            document.getElementById('buyCarrot').disabled = gameState.currency < gameState.plantTypes.carrot.cost;
            document.getElementById('buyCorn').disabled = gameState.currency < gameState.plantTypes.corn.cost;
            
            document.getElementById('upgradeTomato').disabled = gameState.currency < gameState.plantTypes.tomato.upgradeCost || gameState.plantTypes.tomato.count === 0;
            document.getElementById('upgradeCarrot').disabled = gameState.currency < gameState.plantTypes.carrot.upgradeCost || gameState.plantTypes.carrot.count === 0;
            document.getElementById('upgradeCorn').disabled = gameState.currency < gameState.plantTypes.corn.upgradeCost || gameState.plantTypes.corn.count === 0;
            
            document.getElementById('buyInsurance').disabled = gameState.currency < gameState.insurance.cost;

            // Calculate and display production rate
            let totalProduction = 0;
            gameState.plants.forEach(plant => {
                if (!plant.damaged) {
                    const plantType = gameState.plantTypes[plant.type];
                    totalProduction += plantType.baseReward * plantType.upgradeLevel * plant.level;
                }
            });
            document.getElementById('autoProduction').textContent = (totalProduction / 1).toFixed(1); // ÊØèÁßíÁî¢Èáè
        }

        function autoHarvest() {
            let totalHarvest = 0;
            const plantGrid = document.getElementById('plantGrid');
            
            gameState.plants.forEach(plant => {
                if (!plant.damaged) {
                    const plantType = gameState.plantTypes[plant.type];
                    const harvest = plantType.baseReward * plantType.upgradeLevel * plant.level;
                    totalHarvest += harvest;
                    
                    // Visual feedback for each plant
                    const plantElement = document.querySelector(`[data-id="${plant.id}"]`);
                    if (plantElement) {
                        plantElement.classList.add('pulse');
                        setTimeout(() => plantElement.classList.remove('pulse'), 300);
                        createFloatingFruit(plantElement, harvest);
                    }
                }
            });
            
            gameState.currency += totalHarvest;
            updateDisplay();
        }

        function buyPlant(plantType) {
            const plant = gameState.plantTypes[plantType];
            if (gameState.currency >= plant.cost) {
                gameState.currency -= plant.cost;
                plant.count++;
                plant.cost = Math.floor(plant.cost * plant.costMultiplier);

                // Create new plant
                const newPlant = {
                    id: gameState.nextPlantId++,
                    type: plantType,
                    level: 1,
                    damaged: false
                };
                gameState.plants.push(newPlant);

                addPlantToGrid(newPlant);
                updateDisplay();
            }
        }

        function upgradePlantType(plantType) {
            const plant = gameState.plantTypes[plantType];
            
            if (gameState.currency >= plant.upgradeCost && plant.count > 0) {
                gameState.currency -= plant.upgradeCost;
                plant.upgradeLevel++;
                plant.upgradeCost = Math.floor(plant.upgradeCost * 1.8);
                
                // Update all plants of this type visually
                gameState.plants.forEach(p => {
                    if (p.type === plantType) {
                        const plantElement = document.querySelector(`[data-id="${p.id}"]`);
                        if (plantElement) {
                            updatePlantDisplay(plantElement, p);
                        }
                    }
                });
                
                updateDisplay();
            }
        }

        function buyInsurance() {
            if (gameState.currency >= gameState.insurance.cost) {
                gameState.currency -= gameState.insurance.cost;
                gameState.insurance.level++;
                gameState.insurance.cost = Math.floor(gameState.insurance.cost * gameState.insurance.costMultiplier);
                updateDisplay();
            }
        }

        function addPlantToGrid(plant) {
            const plantGrid = document.getElementById('plantGrid');
            const plantElement = document.createElement('div');
            
            plantElement.className = 'plant';
            plantElement.dataset.type = plant.type;
            plantElement.dataset.level = plant.level;
            plantElement.dataset.id = plant.id;
            
            updatePlantDisplay(plantElement, plant);
            plantGrid.appendChild(plantElement);
        }

        function updatePlantDisplay(plantElement, plant) {
            const plantType = gameState.plantTypes[plant.type];
            const production = plantType.baseReward * plantType.upgradeLevel * plant.level;
            
            plantElement.innerHTML = `
                <div class="plant-emoji">${plantType.emoji}</div>
                <div class="plant-info">Lvl ${plant.level}<br>+${production}/harvest</div>
                <div class="plant-level">${plantType.upgradeLevel}</div>
            `;
            
            if (plant.damaged) {
                plantElement.classList.add('plant-damaged');
            } else {
                plantElement.classList.remove('plant-damaged');
            }
        }

        function createFloatingFruit(element, amount) {
            const fruit = document.createElement('div');
            fruit.className = 'floating-fruit';
            fruit.textContent = `+${amount} üçé`;
            
            const rect = element.getBoundingClientRect();
            fruit.style.left = (rect.left + rect.width / 2) + 'px';
            fruit.style.top = rect.top + 'px';
            fruit.style.position = 'fixed';
            
            document.body.appendChild(fruit);
            
            setTimeout(() => {
                if (document.body.contains(fruit)) {
                    document.body.removeChild(fruit);
                }
            }, 1000);
        }

        function triggerDisaster() {
            if (gameState.plants.length === 0) return;
            
            const disaster = disasters[Math.floor(Math.random() * disasters.length)];
            
            // Calculate damage (reduced by insurance)
            const baseDamageChance = 0.3; // 30% chance per plant
            const protectionFactor = gameState.insurance.level * 0.1; // 10% protection per level
            const finalDamageChance = Math.max(0.05, baseDamageChance - protectionFactor);
            
            let plantsDestroyed = 0;
            gameState.plants.forEach(plant => {
                if (Math.random() < finalDamageChance && !plant.damaged) {
                    plant.damaged = true;
                    plantsDestroyed++;
                    
                    // Update visual
                    const plantElement = document.querySelector(`[data-id="${plant.id}"]`);
                    if (plantElement) {
                        plantElement.classList.add('plant-damaged');
                    }
                    
                    // Remove plant after animation
                    setTimeout(() => {
                        const index = gameState.plants.findIndex(p => p.id === plant.id);
                        if (index !== -1) {
                            gameState.plants.splice(index, 1);
                            gameState.plantTypes[plant.type].count--;
                            if (plantElement && plantElement.parentNode) {
                                plantElement.parentNode.removeChild(plantElement);
                            }
                        }
                        updateDisplay();
                    }, 2000);
                }
            });
            
            if (plantsDestroyed > 0) {
                showDisasterAlert(disaster, plantsDestroyed);
            }
        }

        function showDisasterAlert(disaster, plantsDestroyed) {
            const alert = document.createElement('div');
            alert.className = 'disaster-alert';
            alert.innerHTML = `
                <div style="font-size: 3em; margin-bottom: 15px;">${disaster.emoji}</div>
                <div style="font-size: 1.3em; font-weight: bold; margin-bottom: 10px;">${disaster.name}!</div>
                <div>${disaster.message}</div>
                <div style="margin-top: 10px; color: #FFD700;">
                    ${plantsDestroyed} plant${plantsDestroyed > 1 ? 's' : ''} destroyed!
                </div>
            `;
            
            document.body.appendChild(alert);
            
            setTimeout(() => {
                if (document.body.contains(alert)) {
                    document.body.removeChild(alert);
                }
            }, 4000);
        }

        function updateTimer() {
            gameState.autoHarvestTimer--;
            document.getElementById('autoTimer').textContent = gameState.autoHarvestTimer;
            
            if (gameState.autoHarvestTimer <= 0) {
                autoHarvest();
                gameState.autoHarvestTimer = 3;
            }
        }

        // Initialize game
        updateDisplay();

        // Game timers
        setInterval(updateTimer, 1000); // Update timer every second

        // Random disasters (every 30-90 seconds)
        function scheduleNextDisaster() {
            const delay = (30 + Math.random() * 60) * 1000; // 30-90 seconds
            setTimeout(() => {
                triggerDisaster();
                scheduleNextDisaster();
            }, delay);
        }
        
        // Start disaster timer after 30 seconds of gameplay
        setTimeout(scheduleNextDisaster, 30000);
    </script>
</body>
</html>